(this.webpackJsonpinquinator=this.webpackJsonpinquinator||[]).push([[0],{100:function(e,t,a){"use strict";var o=a(6),n=a(0),c=a(31),r=a.n(c),s=(a(175),a(48),a(176),a(1)),i=function(e){var t=e.data,a=e.image,c=e.label,i=e.id,l="Energy"===c?"kWh":"m3",u=Object(n.useState)([{name:"".concat(c," per Capita"),data:[{x:"".concat(c," per Capita"),y:t.info_capita}]},{name:c,data:[{x:c,y:t.info}]}]),d=Object(o.a)(u,2),b=d[0],p=d[1],f={chart:{sparkline:{enabled:!0},background:"transparent"},colors:["#ff4560","#775dd0"],fill:{type:"gradient",gradient:{type:"diagonal1",inverseColors:!0,opacityFrom:1,opacityTo:.65,stops:[0,100],colorStops:[{offset:0,color:"rgba(255, 69, 96, 0.8)"},{offset:100,color:"rgba(119, 93, 208, 0.2)"}]}},theme:{mode:"dark"},plotOptions:{bar:{horizontal:!0,barHeight:"50%",borderRadius:15,distributed:!0,dataLabels:{size:"50%",background:"transparent",hideOverflowingLabels:!0}}},dataLabels:{enabled:!0,textAnchor:"middle",formatter:function(e){return e>Object.values(t).reduce((function(e,t){return(null!==e&&void 0!==e?e:0)+(null!==t&&void 0!==t?t:0)}),0)/6?e.toFixed(2)+" ".concat(l):""},style:{colors:["whitesmoke"]}},stroke:{show:!0},tooltip:{show:!0,followCursor:!0,fillSeriesColor:!0,theme:"dark",x:{show:!1},y:{formatter:function(e){return"".concat(e.toFixed(2)," ").concat(l)}}},xaxis:{categories:[c]},grid:{padding:{right:20}},noData:{text:"No data available"}};return Object(n.useEffect)((function(){p([{name:"".concat(c," per Capita"),data:[{x:"".concat(c," per Capita"),y:t.info_capita}]},{name:c,data:[{x:c,y:t.info}]}])}),[t.info,t.info_capita,i,c]),Object.values(t).every((function(e){return void 0===e}))?null:Object(s.jsxs)("div",{className:"visual-data visual-data-".concat(i),children:[Object(s.jsx)("div",{className:"visual-icon-wrapper",children:Object(s.jsx)("img",{className:"visual-icon",src:a,alt:c})}),Object(s.jsx)("div",{className:"sparkline-wrapper",children:Object(s.jsx)(r.a,{id:"sparkline-".concat(i),className:"sparkline-chart",options:f,series:b,type:"bar",height:"100%"})})]})},l=(a(177),a(104)),u=a(33),d=function(e){var t=e.activeCountry,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1],d=Object(n.useState)(""),b=Object(o.a)(d,2),p=b[0],f=b[1],m=Object(n.useState)(""),j=Object(o.a)(m,2),h=j[0],O=j[1],y=Object(n.useState)(""),g=Object(o.a)(y,2),x=g[0],v=g[1],_=Object(n.useState)(""),N=Object(o.a)(_,2),C=N[0],k=N[1];return Object(n.useEffect)((function(){!function(e){var t=e.country,a=e.iso_code,o=e.year,n=e.population,c=e.gdp;t=t||"No data",a=a||"No data",o=o||"No data",n=n?"".concat(Math.floor(n/1e6)," M"):"No data",c=c?"".concat(Math.floor(c/1e9)," B"):"No data",i(t),f(a),O(o),v(n),k(c)}(t)}),[t]),Object(s.jsxs)("div",{className:"header",children:[Object(s.jsx)("div",{className:"header-title",children:Object(s.jsx)("span",{className:"title-text",children:r})}),Object(s.jsxs)(l.a,{className:"data-item",children:[Object(s.jsx)(u.a,{icon:"globe",className:"data-icon"}),Object(s.jsx)("span",{className:"data-text",children:p})]}),Object(s.jsxs)(l.a,{className:"data-item",children:[Object(s.jsx)(u.a,{icon:"calendar-alt",className:"data-icon"}),Object(s.jsx)("span",{className:"data-text",children:h})]}),Object(s.jsxs)(l.a,{className:"data-item",children:[Object(s.jsx)(u.a,{icon:["fas","users"],className:"data-icon"}),Object(s.jsx)("span",{className:"data-text",children:x})]}),Object(s.jsxs)(l.a,{className:"data-item",children:[Object(s.jsx)(u.a,{icon:["fas","dollar-sign"],className:"data-icon"}),Object(s.jsx)("span",{className:"data-text",children:C})]})]})},b={cement_co2:"Cement",coal_co2:"Coal",gas_co2:"Gas",oil_co2:"Oil",other_industry_co2:"Other",flaring_co2:"Flaring"};t.a=function(e){var t=e.data,a=Object(n.useState)([]),c=Object(o.a)(a,2),l=c[0],u=c[1],p={chart:{id:"co2-parts-chart",animations:{enabled:!0,easing:"easeinout",speed:400,animateGradually:{enabled:!0,delay:550},dynamicAnimation:{enabled:!0,speed:1e3}},background:"transparent"},theme:{mode:"dark",palette:"palette1"},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:0,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:.7,stops:[0,100],colorStops:[]}},plotOptions:{pie:{dataLabels:{minAngleToShowLabel:45},donut:{size:"35%",background:"transparent"}}},stroke:{width:0,colors:["#fff"]},labels:Object.keys(t).filter((function(e){return Object.keys(b).includes(e)})).map((function(e){return b[e]}))};return Object(n.useEffect)((function(){u(Object.keys(b).reduce((function(e,a){return void 0!==t[a]&&e.push(t[a]),e}),[]))}),[t]),Object(s.jsxs)("div",{className:"card-container",children:[Object(s.jsx)(d,{activeCountry:t}),Object(s.jsx)("div",{className:"co2-parts-chart-container",children:Object(s.jsx)(r.a,{id:"co2-parts-chart",options:p,series:l,type:"donut",height:"100%"})}),Object(s.jsxs)("div",{className:"card-bottom",children:[Object(s.jsx)(i,{data:[t].map((function(e){return{info:e.nitrous_oxide,info_capita:e.nitrous_oxide_per_capita}}))[0],image:"./media/nitrogen.svg",label:"Nitrous oxide",id:"1"}),Object(s.jsx)(i,{data:[t].map((function(e){return{info:e.methane,info_capita:e.methane_per_capita}}))[0],image:"./media/methane.svg",label:"Methane",id:"2"}),Object(s.jsx)(i,{data:[t].map((function(e){return{info:e.energy,info_capita:e.energy_per_capita}}))[0],image:"./media/energy.svg",label:"Energy",id:"3"})]})]})}},101:function(e,t,a){"use strict";a(0),a(179),a(180);var o=a(33),n=a(1),c=function(e){var t=e.type,a=e.toggleLayout,c=e.callback;return Object(n.jsx)(o.a,{className:"layoutControllers",icon:["fa",t],onClick:function(){a(),void 0!==c&&c()}})};t.a=function(e){var t=e.infoCardLayout,a=e.bottomCardLayout,o=e.setInfoCardLayout,r=e.setBottomCardLayout,s=e.setInfoCardHeightController;return Object(n.jsxs)("div",{className:"layout-controls "+(a?"shown-layout-controls":null),children:[Object(n.jsx)(c,{type:"arrows-left-right",toggleLayout:function(){return o(t?null:"collapse")}}),t===a?Object(n.jsx)(c,{type:t?"fa-expand":"fa-compress",toggleLayout:function(){var e=t?null:"collapse";o(e),r(e)}}):null,Object(n.jsx)(c,{type:"arrows-up-down",toggleLayout:function(){r(a?null:"collapse"),s(a?"":"force-full-height")}})]})}},105:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(85),r=a.n(c),s=(a(145),a(86)),i=a(1);r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(s.a,{})}),document.getElementById("root"))},145:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){},152:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},48:function(e,t,a){(function(t){e.exports=t.config={api_url:"https://inquinapi.derpi.it/api/"}}).call(this,a(75))},86:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return O}));var o=a(6),n=a(12),c=(a(146),a(0)),r=a(90),s=a(93),i=a(95),l=a.n(i),u=a(100),d=a(96),b=(a(48),a(32)),p=a(66),f=a(101),m=a(97),j=a(1),h=Object.keys(p).filter((function(e){return"fa"!==e&&"prefix"!==e})).map((function(e){return p[e]}));function O(){var t=Object(c.useState)(!0),a=Object(o.a)(t,2),n=a[0],i=a[1],b=Object(c.useState)(!1),p=Object(o.a)(b,2),h=p[0],O=p[1],y=Object(c.useState)(2010),g=Object(o.a)(y,2),x=g[0],v=g[1],_=Object(c.useState)(void 0),N=Object(o.a)(_,2),C=N[0],k=N[1],S=Object(c.useState)(void 0),w=Object(o.a)(S,2),L=w[0],M=w[1],z=Object(c.useState)("collapse"),A=Object(o.a)(z,2),E=A[0],F=A[1],G=Object(c.useState)("collapse"),T=Object(o.a)(G,2),I=T[0],B=T[1],D=Object(c.useState)(""),W=Object(o.a)(D,2),Y=W[0],q=W[1];return Object(c.useEffect)((function(){l.a.get(e.config.api_url,{params:{year:x,strict:"iso_code"},headers:{"Content-Type":"application/json"}}).then((function(e){k(e.data.sort((function(e,t){return e.iso_code>t.iso_code?1:t.iso_code>e.iso_code?-1:0}))),L&&M(e.data.filter((function(e){return L.iso_code===e.iso_code}))[0]),i(!1)})).catch((function(e){console.log(e),O(!0)}))}),[x]),h?Object(j.jsx)("div",{className:"app-loading",children:Object(j.jsx)("div",{children:"OOPS, we're sorry! We could not load the data from server."})}):n?Object(j.jsx)("div",{className:"app-loading",children:"Loading..."}):Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(r.a,{data:{yearMap:x,infoState:C},countryClicked:function(e){M(e),E&&I?(F(null),B(null)):(E||F(null),I||B(null))}}),Object(j.jsxs)("div",{className:"layout-sizer",children:[Object(j.jsx)("div",{id:"info-card",className:"reactive ".concat(Y," ").concat(E),children:L?Object(j.jsx)(u.a,{data:L}):null}),Object(j.jsxs)("div",{id:"bottom-card",className:"reactive "+I,children:[Object(j.jsx)("div",{className:"map-controls",children:Object(j.jsx)("div",{className:"slider-container",children:Object(j.jsx)(s.a,{year:x,changeYear:function(e){i(!0),E||F("collapse"),I||B("collapse"),v(e)}})})}),L?Object(j.jsx)(f.a,{infoCardLayout:E,bottomCardLayout:I,setInfoCardLayout:F,setBottomCardLayout:B,setInfoCardHeightController:q}):null,L?Object(j.jsxs)("div",{className:"charts",children:[Object(j.jsx)(m.a,{activeCountry:L,data:C}),Object(j.jsx)(d.a,{data:L})]}):null]})]})]})}b.b.add.apply(b.b,Object(n.a)(h))}).call(this,a(75))},90:function(e,t,a){"use strict";a(0);var o=a(43),n=a(185),c=a(98),r=(a(150),a(1)),s=Object(n.a)().domain([0,100,1e3,11e3]).range(["lightgreen","lightblue","blue","red"]).interpolate(c.a.gamma(1));t.a=function(e){return Object(r.jsx)("div",{className:"map-container",id:"map-container",children:Object(r.jsx)(o.ComposableMap,{className:"composable-map","data-tip":"",projectionConfig:{scale:650},width:2e3,height:2e3,children:e.data.infoState.length>0&&Object(r.jsx)(o.ZoomableGroup,{center:[25,-10],children:Object(r.jsx)(o.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(t){return t.geographies.map((function(t){var a=e.data.infoState.find((function(e){return e.iso_code===t.properties.ISO_A3}));return Object(r.jsx)(o.Geography,{geography:t,onMouseEnter:function(){},onClick:function(){e.countryClicked(a)},style:{default:{fill:a?s(a.co2):"#fff",outline:"none",stroke:"#000",strokeOpacity:1,strokeWidth:.01,transition:"all 1s ease"},hover:{fill:a?s(a.co2):"#fff",outline:"none",stroke:"#fff",strokeOpacity:1,strokeWidth:2,cursor:"pointer"},pressed:{fill:"#a0acb3",outline:"none"}}},t.rsmKey)}))}})})})})}},93:function(e,t,a){"use strict";a(0);var o=a(186),n=(a(152),a(1));t.a=function(e){var t;return Object(n.jsx)(o.a,{sx:{color:"white"},className:"slider","aria-label":"Year",defaultValue:e.year,valueLabelDisplay:"auto",step:1,marks:[{value:1950,label:"1950"},{value:1964,label:"1964"},{value:1978,label:"1978"},{value:1992,label:"1992"},{value:2006,label:"2006"},{value:2020,label:"2020"}],min:1950,max:2020,onChange:function(a,o){t&&clearTimeout(t),t=setTimeout((function(){!function(t){"number"===typeof t&&e.changeYear(t)}(o)}),1e3)}})}},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var o=a(6),n=a(0),c=(a(178),a(31)),r=a.n(c),s=a(104),i=(a(48),a(1)),l={share_global_cement_co2:"Cement",share_global_coal_co2:"Coal",share_global_gas_co2:"Gas",share_global_oil_co2:"Oil",share_global_other_co2:"Other industry products"},u="#f5f5f5",d="CO2 part global share";function b(e){var t=e.data,a=Object(n.useState)([{name:d,data:[]}]),c=Object(o.a)(a,2),b=c[0],p=c[1],f={tooltip:{show:!0,followCursor:!0,fillSeriesColor:!0,theme:"dark",x:{show:!0}},chart:{animations:{enabled:!0,easing:"easeinout",speed:400,animateGradually:{enabled:!0,delay:550},dynamicAnimation:{enabled:!0,speed:1e3}},background:"transparent",toolbar:{show:!1}},theme:{mode:"dark",palette:"palette3"},xaxis:{categories:Object.keys(t).filter((function(e){return Object.keys(l).includes(e)})).map((function(e){return l[e]})),labels:{show:!1,style:{colors:u,fontSize:"1em"}}},yaxis:{showForNullSeries:!1,labels:{style:{colors:[u],fontSize:"1em"}}},plotOptions:{bar:{dataLabels:{minAngleToShowLabel:45,size:"35%",background:"transparent"},distributed:!0}},legend:{show:!0,labels:{colors:[u],fontSize:"1em"}},noData:{text:"No data available",style:{colors:u,fontFamily:"Roboto"}},dataLabels:{enabled:!0,formatter:function(e){return"".concat(e,"%")},style:{fontSize:".7em",colors:[u]}}};return Object(n.useEffect)((function(){p([{name:d,data:Object.keys(l).reduce((function(e,a){return t[a]&&e.push(t[a]),e}),[])}])}),[t]),Object(i.jsxs)("div",{className:"secondary-chart",children:[Object(i.jsx)(s.a,{variant:"h6",className:"chart-title",children:"Global share of CO2 emissions by industry"}),Object(i.jsx)("div",{className:"secondary-chart-container",children:Object(i.jsx)(r.a,{id:"secondary-chart",options:f,series:b,type:"bar",height:"100%"})})]})}},97:function(e,t,a){"use strict";var o=a(6),n=a(0),c=(a(181),a(48),a(104)),r=a(31),s=a.n(r),i=a(1),l="#f5f5f5",u={trade_co2:"CO2 by trade",consumption_co2:"CO2 products by consumption"};t.a=function(e){var t,a=e.activeCountry,r=e.data,d=Object(n.useState)([{name:"trade_co2",data:[]},{name:"consumption_co2",data:[]}]),b=Object(o.a)(d,2),p=b[0],f=b[1],m=r.filter((function(e){return e.iso_code&&e.trade_co2&&e.consumption_co2})),j=Object(n.useMemo)((function(){return m.map((function(e){return e.trade_co2})).reduce((function(e,t){return Math.abs(e-t)}),0)/m.length}),[m]),h=Object(n.useMemo)((function(){return Math.abs(a.trade_co2-j)/a.trade_co2*a.trade_co2/2}),[a,j]),O=m.reduce((function(e,t){return Math.abs(a.trade_co2-t.trade_co2)<=h&&e.push(t),e}),[]),y=Object(n.useMemo)((function(){return O.map((function(e){return e.consumption_co2})).reduce((function(e,t){return Math.abs(e-t)}),0)/O.length}),[O]),g=Object(n.useMemo)((function(){return Math.abs(a.consumption_co2-y)/a.consumption_co2*a.consumption_co2/2}),[a.consumption_co2,y]),x=O.reduce((function(e,t){return Math.abs(a.consumption_co2-t.consumption_co2)<=g&&e.push(t),e}),[]).slice(0,6),v={country:x.reduce((function(e,t){return e.push(t.country),e}),[]),trade_co2:x.reduce((function(e,t){return e.push(t.trade_co2),e}),[]),consumption_co2:x.reduce((function(e,t){return e.push(t.consumption_co2),e}),[])},_=Object.keys((t=v,{trade_co2:t.trade_co2,consumption_co2:t.consumption_co2})).map((function(e){return u[e]})),N=(v.trade_co2.reduce((function(e,t){return e+t}),0)/v.trade_co2.length+v.consumption_co2.reduce((function(e,t){return e+t}),0)/v.consumption_co2.length)/2,C={chart:{animations:{enabled:!0,easing:"easeinout",speed:400,animateGradually:{enabled:!0,delay:550},dynamicAnimation:{enabled:!0,speed:1e3}},background:"transparent",toolbar:{show:!1}},theme:{mode:"dark",palette:"palette3"},plotOptions:{bar:{horizontal:!0,dataLabels:{minAngleToShowLabel:45,size:"35%",background:"transparent"}}},dataLabels:{enabled:!0,offsetY:7,textAnchor:"end",formatter:function(e){return e>N?Math.round(e)+" Mt":""},style:{padding:".5em",fontSize:".7em",colors:[l]}},stroke:{show:!0,width:1,colors:[l]},tooltip:{show:!0,followCursor:!0,fillSeriesColor:!0,theme:"dark",x:{show:!0}},xaxis:{categories:v.country,labels:{style:{colors:[l],fontSize:"1em"}}},yaxis:{showForNullSeries:!1,labels:{style:{colors:[l],fontSize:"1em"}}},legend:{show:!0,customLegendItems:_,labels:{colors:[l],fontSize:"1em"}},noData:{text:"No data available",style:{colors:[l],fontFamily:"Roboto"}}};return Object(n.useEffect)((function(){f([{name:"CO2 products by trade",data:v.trade_co2},{name:"CO2 products by consumption",data:v.consumption_co2}])}),[a]),Object(i.jsxs)("div",{className:"primary-chart",children:[Object(i.jsx)(c.a,{variant:"h6",className:"chart-title",children:"Similar emissions regarding economic activities"}),Object(i.jsx)("div",{className:"primary-chart-container",children:Object(i.jsx)(s.a,{id:"primary-chart",options:C,series:p,type:"bar",height:"100%"})})]})}}},[[105,1,2]]]);
//# sourceMappingURL=main.dafc462c.chunk.js.map